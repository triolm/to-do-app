<% layout('layouts/boilerplate')%>
    <title>All Notes</title>

    <div class="d-inline-flex flex-row flex-wrap justify-content-center px-5">
        <% for(note of notes) { %>
            <div class="card m-2" style="width: 15rem;">
                <div class="card-body d-flex flex-column justify-content-between">
                    <h5 class="card-title">
                        <% if(note.title.length> 20){ %>
                            <%= note.title.slice(0, 20) %>...
                                <% } else{ %>
                                    <%= note.title %>
                                        <% } %>
                    </h5>
                    <p class="card-text">
                        <% if(note.body.length> 30){ %>
                            <%= note.body.slice(0, 30) %>...
                                <% } else{ %>
                                    <%= note.body %>
                                        <% } %>
                    </p>
                    <a href="/notes/<%=note._id %> "
                        class="btn btn-primary stretched-link mt-auto d-inline-block">View</a>
                </div>
                <div class="card-footer text-muted">
                    <%= timeAgo.format(new Date(parseInt(note.date))) %>
                </div>
            </div>

            <% } %>

    </div>